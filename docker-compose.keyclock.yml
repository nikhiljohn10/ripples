version: '3.9'

services:
  keycloak:
    build: 
      context: Dockerfiles
      dockerfile: keycloak.dockerfile
    image: keycloak:19.0.1-local
    container_name: keycloak
    restart: on-failure
    command: >
      start
        --optimized
        --https-port=50443
    environment:
      KEYCLOAK_ADMIN: admin
      KEYCLOAK_ADMIN_PASSWORD: Keycloak@123
    ports:
      - 50443:50443
    networks:
      - docker-networks

networks:
  docker-networks:
    name: docker-networks
